<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
    refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2c3e50" />
    </marker>
    <marker id="merge-arrow" markerWidth="12" markerHeight="9" 
    refX="0" refY="4.5" orient="auto">
      <polygon points="0 0, 12 4.5, 0 9" fill="#e74c3c" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="600" y="25" text-anchor="middle" font-size="20" font-weight="bold" fill="#2c3e50">Feature Branch Workflow: Team Collaboration DAG</text>
  
  <!-- Timeline -->
  <line x1="80" y1="50" x2="1120" y2="50" stroke="#bdc3c7" stroke-width="2"/>
  <text x="80" y="42" font-size="11" fill="#7f8c8d">Week 1 Day 1</text>
  <text x="280" y="42" font-size="11" fill="#7f8c8d">Day 3</text>
  <text x="480" y="42" font-size="11" fill="#7f8c8d">Day 5</text>
  <text x="680" y="42" font-size="11" fill="#7f8c8d">Week 2 Day 2</text>
  <text x="880" y="42" font-size="11" fill="#7f8c8d">Day 4</text>
  <text x="1080" y="42" font-size="11" fill="#7f8c8d">Day 5</text>
  
  <!-- Main Branch -->
  <g id="main-branch">
    <!-- Initial commits -->
    <circle cx="120" cy="100" r="12" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
    <text x="120" y="85" text-anchor="middle" font-size="10" font-weight="bold" fill="#2c3e50">A</text>
    <text x="120" y="120" text-anchor="middle" font-size="9" fill="#7f8c8d">Initial</text>
    
    <circle cx="200" cy="100" r="12" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
    <text x="200" y="85" text-anchor="middle" font-size="10" font-weight="bold" fill="#2c3e50">B</text>
    <text x="200" y="120" text-anchor="middle" font-size="9" fill="#7f8c8d">Setup</text>
    
    <circle cx="280" cy="100" r="12" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
    <text x="280" y="85" text-anchor="middle" font-size="10" font-weight="bold" fill="#2c3e50">C</text>
    <text x="280" y="120" text-anchor="middle" font-size="9" fill="#7f8c8d">Base</text>
    
    <!-- Merge commits -->
    <circle cx="720" cy="100" r="14" fill="#e74c3c" stroke="#c0392b" stroke-width="2"/>
    <text x="720" y="85" text-anchor="middle" font-size="10" font-weight="bold" fill="white">K</text>
    <text x="720" y="120" text-anchor="middle" font-size="9" fill="#7f8c8d">Merge 1</text>
    
    <circle cx="920" cy="100" r="14" fill="#e74c3c" stroke="#c0392b" stroke-width="2"/>
    <text x="920" y="85" text-anchor="middle" font-size="10" font-weight="bold" fill="white">M</text>
    <text x="920" y="120" text-anchor="middle" font-size="9" fill="#7f8c8d">Merge 2</text>
    
    <circle cx="1080" cy="100" r="14" fill="#e74c3c" stroke="#c0392b" stroke-width="2"/>
    <text x="1080" y="85" text-anchor="middle" font-size="10" font-weight="bold" fill="white">O</text>
    <text x="1080" y="120" text-anchor="middle" font-size="9" fill="#7f8c8d">Final</text>
  </g>
  
  <!-- Feature Branch 1: Payment Gateway (Alex) -->
  <g id="payment-gateway-branch">
    <circle cx="360" cy="200" r="12" fill="#9b59b6" stroke="#8e44ad" stroke-width="2"/>
    <text x="360" y="185" text-anchor="middle" font-size="10" font-weight="bold" fill="#2c3e50">D</text>
    <text x="360" y="220" text-anchor="middle" font-size="8" fill="#7f8c8d">Gateway</text>
    
    <circle cx="480" cy="200" r="12" fill="#9b59b6" stroke="#8e44ad" stroke-width="2"/>
    <text x="480" y="185" text-anchor="middle" font-size="10" font-weight="bold" fill="#2c3e50">E</text>
    <text x="480" y="220" text-anchor="middle" font-size="8" fill="#7f8c8d">Validate</text>
    
    <circle cx="600" cy="200" r="12" fill="#9b59b6" stroke="#8e44ad" stroke-width="2"/>
    <text x="600" y="185" text-anchor="middle" font-size="10" font-weight="bold" fill="#2c3e50">J</text>
    <text x="600" y="220" text-anchor="middle" font-size="8" fill="#7f8c8d">Review</text>
  </g>
  
  <!-- Feature Branch 2: Payment API (Chen) -->
  <g id="payment-api-branch">
    <circle cx="380" cy="300" r="12" fill="#f39c12" stroke="#e67e22" stroke-width="2"/>
    <text x="380" y="285" text-anchor="middle" font-size="10" font-weight="bold" fill="#2c3e50">H</text>
    <text x="380" y="320" text-anchor="middle" font-size="8" fill="#7f8c8d">API</text>
    
    <circle cx="520" cy="300" r="12" fill="#f39c12" stroke="#e67e22" stroke-width="2"/>
    <text x="520" y="285" text-anchor="middle" font-size="10" font-weight="bold" fill="#2c3e50">I</text>
    <text x="520" y="320" text-anchor="middle" font-size="8" fill="#7f8c8d">Errors</text>
    
    <circle cx="800" cy="300" r="12" fill="#f39c12" stroke="#e67e22" stroke-width="2"/>
    <text x="800" y="285" text-anchor="middle" font-size="10" font-weight="bold" fill="#2c3e50">L</text>
    <text x="800" y="320" text-anchor="middle" font-size="8" fill="#7f8c8d">Conflict</text>
  </g>
  
  <!-- Feature Branch 3: Checkout UI (Maria) -->
  <g id="checkout-ui-branch">
    <circle cx="400" cy="400" r="12" fill="#27ae60" stroke="#229954" stroke-width="2"/>
    <text x="400" y="385" text-anchor="middle" font-size="10" font-weight="bold" fill="#2c3e50">F</text>
    <text x="400" y="420" text-anchor="middle" font-size="8" fill="#7f8c8d">Form</text>
    
    <circle cx="540" cy="400" r="12" fill="#27ae60" stroke="#229954" stroke-width="2"/>
    <text x="540" y="385" text-anchor="middle" font-size="10" font-weight="bold" fill="#2c3e50">G</text>
    <text x="540" y="420" text-anchor="middle" font-size="8" fill="#7f8c8d">Styles</text>
    
    <circle cx="980" cy="400" r="12" fill="#27ae60" stroke="#229954" stroke-width="2"/>
    <text x="980" y="385" text-anchor="middle" font-size="10" font-weight="bold" fill="#2c3e50">N</text>
    <text x="980" y="420" text-anchor="middle" font-size="8" fill="#7f8c8d">Integrate</text>
  </g>
  
  <!-- Main branch progression -->
  <line x1="132" y1="100" x2="188" y2="100" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="212" y1="100" x2="268" y2="100" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="734" y1="100" x2="908" y2="100" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="934" y1="100" x2="1068" y2="100" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Branch creations -->
  <line x1="280" y1="112" x2="348" y2="188" stroke="#9b59b6" stroke-width="2" stroke-dasharray="4,4" marker-end="url(#arrowhead)"/>
  <line x1="280" y1="112" x2="368" y2="288" stroke="#f39c12" stroke-width="2" stroke-dasharray="4,4" marker-end="url(#arrowhead)"/>
  <line x1="280" y1="112" x2="388" y2="388" stroke="#27ae60" stroke-width="2" stroke-dasharray="4,4" marker-end="url(#arrowhead)"/>
  
  <!-- Feature branch progressions -->
  <line x1="372" y1="200" x2="468" y2="200" stroke="#9b59b6" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="492" y1="200" x2="588" y2="200" stroke="#9b59b6" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <line x1="392" y1="300" x2="508" y2="300" stroke="#f39c12" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="532" y1="300" x2="788" y2="300" stroke="#f39c12" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <line x1="412" y1="400" x2="528" y2="400" stroke="#27ae60" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="552" y1="400" x2="968" y2="400" stroke="#27ae60" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Merge operations -->
  <!-- First merge: Payment Gateway to main -->
  <path d="M 600 188 Q 660 140 706 112" stroke="#e74c3c" stroke-width="3" fill="none" marker-end="url(#merge-arrow)"/>
  
  <!-- Second merge: Payment API to main (after conflict resolution) -->
  <path d="M 800 288 Q 860 190 906 112" stroke="#e74c3c" stroke-width="3" fill="none" marker-end="url(#merge-arrow)"/>
  
  <!-- Third merge: UI integrates with main, then merges -->
  <path d="M 920 112 Q 950 250 968 388" stroke="#95a5a6" stroke-width="2" stroke-dasharray="6,3" fill="none"/>
  <path d="M 980 388 Q 1030 240 1066 112" stroke="#e74c3c" stroke-width="3" fill="none" marker-end="url(#merge-arrow)"/>
  
  <!-- Branch labels -->
  <text x="450" y="170" text-anchor="middle" font-size="12" font-weight="bold" fill="#9b59b6">feature/payment-gateway (Alex)</text>
  <text x="500" y="270" text-anchor="middle" font-size="12" font-weight="bold" fill="#f39c12">feature/payment-api (Chen)</text>
  <text x="600" y="370" text-anchor="middle" font-size="12" font-weight="bold" fill="#27ae60">feature/checkout-ui (Maria)</text>
  <text x="520" y="70" text-anchor="middle" font-size="14" font-weight="bold" fill="#3498db">main branch</text>
  
  <!-- Conflict indicator -->
  <rect x="740" y="280" width="120" height="40" rx="5" fill="#e74c3c" opacity="0.2" stroke="#c0392b"/>
  <text x="800" y="295" text-anchor="middle" font-size="10" font-weight="bold" fill="#c0392b">CONFLICT</text>
  <text x="800" y="308" text-anchor="middle" font-size="9" fill="#c0392b">package.json</text>
  <text x="800" y="318" text-anchor="middle" font-size="8" fill="#7f8c8d">resolved in L</text>
  
  <!-- Team coordination arrows -->
  <path d="M 920 112 Q 950 200 968 388" stroke="#95a5a6" stroke-width="2" stroke-dasharray="3,3" fill="none"/>
  <text x="940" y="250" font-size="9" fill="#95a5a6" transform="rotate(45 940 250)">sync with main</text>
  
  <!-- Mathematical annotations -->
  <g id="math-annotations">
    <rect x="50" y="480" width="500" height="280" rx="5" fill="#ecf0f1" stroke="#bdc3c7"/>
    <text x="70" y="500" font-size="14" font-weight="bold" fill="#2c3e50">Mathematical Properties</text>
    
    <!-- DAG Structure -->
    <text x="70" y="520" font-size="11" font-weight="bold" fill="#2c3e50">DAG Structure:</text>
    <text x="70" y="535" font-size="10" fill="#2c3e50">Main: A → B → C → K → M → O</text>
    <text x="70" y="548" font-size="10" fill="#2c3e50">Gateway: C → D → E → J ↗ K</text>
    <text x="70" y="561" font-size="10" fill="#2c3e50">API: C → H → I → L ↗ M</text>
    <text x="70" y="574" font-size="10" fill="#2c3e50">UI: C → F → G → N ↗ O</text>
    
    <!-- LCA Analysis -->
    <text x="70" y="595" font-size="11" font-weight="bold" fill="#2c3e50">Lowest Common Ancestors:</text>
    <text x="70" y="610" font-size="10" fill="#2c3e50">LCA(J, L) = C (before any merges)</text>
    <text x="70" y="623" font-size="10" fill="#2c3e50">LCA(N, M) = C (UI needs both payment features)</text>
    
    <!-- Merge Mathematics -->
    <text x="70" y="644" font-size="11" font-weight="bold" fill="#2c3e50">Three-Way Merge Algorithm:</text>
    <text x="70" y="659" font-size="10" fill="#2c3e50">merge(base, ours, theirs) → new_commit</text>
    <text x="70" y="672" font-size="10" fill="#2c3e50">Conflict when: base ≠ ours ∧ base ≠ theirs ∧ ours ≠ theirs</text>
    
    <!-- Performance -->
    <text x="70" y="693" font-size="11" font-weight="bold" fill="#2c3e50">Complexity Analysis:</text>
    <text x="70" y="708" font-size="10" fill="#2c3e50">LCA computation: O(V + E) per merge</text>
    <text x="70" y="721" font-size="10" fill="#2c3e50">Merge conflicts: O(lines_changed)</text>
    <text x="70" y="734" font-size="10" fill="#2c3e50">Storage: O(unique_objects) with deduplication</text>
    
    <!-- Reachability -->
    <text x="70" y="750" font-size="10" fill="#7f8c8d">From O: reachable = {A,B,C,D,E,F,G,H,I,J,K,L,M,N,O}</text>
  </g>
  
  <!-- Team workflow analysis -->
  <g id="workflow-analysis">
    <rect x="600" y="480" width="550" height="280" rx="5" fill="#f8f9fa" stroke="#dee2e6"/>
    <text x="620" y="500" font-size="14" font-weight="bold" fill="#2c3e50">Team Collaboration Analysis</text>
    
    <!-- Parallel Development -->
    <text x="620" y="520" font-size="11" font-weight="bold" fill="#2c3e50">Parallel Development Efficiency:</text>
    <text x="620" y="535" font-size="10" fill="#2c3e50">• 3 developers work simultaneously without blocking</text>
    <text x="620" y="548" font-size="10" fill="#2c3e50">• Features develop independently until integration</text>
    <text x="620" y="561" font-size="10" fill="#2c3e50">• Main branch remains stable throughout process</text>
    
    <!-- Integration Strategy -->
    <text x="620" y="582" font-size="11" font-weight="bold" fill="#2c3e50">Integration Strategy:</text>
    <text x="620" y="597" font-size="10" fill="#2c3e50">1. Independent features merge first (Gateway → main)</text>
    <text x="620" y="610" font-size="10" fill="#2c3e50">2. Conflicting features resolve conflicts (API conflict)</text>
    <text x="620" y="623" font-size="10" fill="#2c3e50">3. Dependent features sync before final merge (UI)</text>
    
    <!-- Conflict Resolution -->
    <text x="620" y="644" font-size="11" font-weight="bold" fill="#2c3e50">Conflict Resolution Pattern:</text>
    <text x="620" y="659" font-size="10" fill="#2c3e50">• Chen's API conflicts with Alex's Gateway dependencies</text>
    <text x="620" y="672" font-size="10" fill="#2c3e50">• Three-way merge identifies conflicting regions</text>
    <text x="620" y="685" font-size="10" fill="#2c3e50">• Manual resolution combines both sets of changes</text>
    
    <!-- Quality Assurance -->
    <text x="620" y="706" font-size="11" font-weight="bold" fill="#2c3e50">Quality Assurance:</text>
    <text x="620" y="721" font-size="10" fill="#2c3e50">• Each feature branch tested independently</text>
    <text x="620" y="734" font-size="10" fill="#2c3e50">• Code reviews before merging (commits J, L, N)</text>
    <text x="620" y="747" font-size="10" fill="#2c3e50">• Integration testing after each merge</text>
  </g>
  
  <!-- Legend -->
  <g id="legend">
    <rect x="50" y="60" width="300" height="140" rx="5" fill="#ffffff" stroke="#bdc3c7" opacity="0.95"/>
    <text x="70" y="80" font-size="12" font-weight="bold" fill="#2c3e50">Legend</text>
    
    <circle cx="80" cy="95" r="8" fill="#3498db"/>
    <text x="95" y="100" font-size="10" fill="#2c3e50">Initial Development</text>
    
    <circle cx="80" cy="115" r="8" fill="#9b59b6"/>
    <text x="95" y="120" font-size="10" fill="#2c3e50">Payment Gateway (Alex)</text>
    
    <circle cx="80" cy="135" r="8" fill="#f39c12"/>
    <text x="95" y="140" font-size="10" fill="#2c3e50">Payment API (Chen)</text>
    
    <circle cx="80" cy="155" r="8" fill="#27ae60"/>
    <text x="95" y="160" font-size="10" fill="#2c3e50">Checkout UI (Maria)</text>
    
    <circle cx="80" cy="175" r="9" fill="#e74c3c"/>
    <text x="95" y="180" font-size="10" fill="#2c3e50">Merge Commits</text>
    
    <line x1="220" y1="95" x2="260" y2="95" stroke="#e74c3c" stroke-width="2" marker-end="url(#merge-arrow)"/>
    <text x="270" y="100" font-size="10" fill="#2c3e50">Merge Operation</text>
    
    <line x1="220" y1="115" x2="260" y2="115" stroke="#95a5a6" stroke-width="2" stroke-dasharray="3,3"/>
    <text x="270" y="120" font-size="10" fill="#2c3e50">Sync with Main</text>
    
    <line x1="220" y1="135" x2="260" y2="135" stroke="#9b59b6" stroke-width="2" stroke-dasharray="4,4"/>
    <text x="270" y="140" font-size="10" fill="#2c3e50">Branch Creation</text>
  </g>
  
  <!-- Timeline annotations -->
  <g id="timeline-annotations">
    <text x="120" y="130" text-anchor="middle" font-size="8" fill="#7f8c8d">Project Start</text>
    <text x="280" y="130" text-anchor="middle" font-size="8" fill="#7f8c8d">Features Begin</text>
    <text x="600" y="130" text-anchor="middle" font-size="8" fill="#7f8c8d">Code Review</text>
    <text x="720" y="130" text-anchor="middle" font-size="8" fill="#7f8c8d">First Merge</text>
    <text x="920" y="130" text-anchor="middle" font-size="8" fill="#7f8c8d">Conflict Resolved</text>
    <text x="1080" y="130" text-anchor="middle" font-size="8" fill="#7f8c8d">Integration Complete</text>
  </g>
  
</svg>